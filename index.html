<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wine Buddy</title>
  <!-- Google fonts for premium typography -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Rich wine colour palette */
      --wine-900: #2c0510;
      --wine-800: #450a18;
      --wine-700: #61101f;
      --wine-600: #7a1425;
      --wine-500: #8f182b;
      --wine-400: #a9193a;
      --wine-300: #c33d55;
      --wine-200: #da7a8a;
      --wine-100: #f5e6ea;
    }
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(circle at 50% 20%, var(--wine-700), var(--wine-900));
      color: var(--wine-100);
      min-height: 100vh;
    }
    /* Global container for consistent horizontal padding */
    .container {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      padding: 1rem 1.5rem;
    }
    /* Header / Top bar */
    header {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 1.5rem;
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(8px);
      background: rgba(0,0,0,0.3);
    }
    .header-left {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .header-left img {
      height: 32px;
      width: 32px;
      object-fit: contain;
    }
    .header-left .app-name {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      font-weight: 700;
    }
    .header-right {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .header-icon {
      font-size: 1.5rem;
      opacity: 0.7;
    }
    /* Hero section */
    .hero {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      padding: 2rem 0 1.5rem;
    }
    .hero-logo {
      width: 80px;
      height: 80px;
      margin-bottom: 0.5rem;
    }
    .hero-headline {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      font-weight: 700;
      margin: 0.5rem 0;
    }
    .hero-subheadline {
      font-size: 0.95rem;
      font-weight: 400;
      color: var(--wine-200);
      max-width: 480px;
      line-height: 1.4;
    }
    /* Stats cards */
    .stats-row {
      display: flex;
      justify-content: space-between;
      gap: 0.75rem;
      margin-top: 1rem;
    }
    .stat-card {
      flex: 1;
      background: linear-gradient(160deg, var(--wine-800), var(--wine-600));
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 0 6px 12px rgba(0,0,0,0.4);
      position: relative;
      overflow: hidden;
    }
    .stat-icon {
      font-size: 1.4rem;
      margin-bottom: 0.25rem;
    }
    .stat-number {
      font-size: 2.2rem;
      font-weight: 700;
    }
    .stat-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      color: var(--wine-200);
      letter-spacing: 0.05em;
    }
    /* Action cards */
    .action-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-top: 2rem;
    }
    .action-card {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      background: linear-gradient(160deg, var(--wine-700), var(--wine-500));
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 0 6px 12px rgba(0,0,0,0.4);
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }
    .action-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.5);
    }
    .action-icon {
      font-size: 1.6rem;
    }
    .action-title {
      font-size: 1rem;
      font-weight: 600;
    }
    .action-desc {
      font-size: 0.8rem;
      color: var(--wine-200);
    }
    /* Form panel styling */
    .form-panel {
      background: linear-gradient(160deg, var(--wine-800), var(--wine-600));
      border-radius: 1rem;
      padding: 1.5rem;
      box-shadow: 0 6px 12px rgba(0,0,0,0.4);
      margin-top: 1rem;
    }
    .form-panel .section {
      margin-bottom: 1.5rem;
    }
    .form-panel .section-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      border-bottom: 1px solid rgba(255,255,255,0.15);
      padding-bottom: 0.3rem;
    }
    .form-panel .field {
      margin-bottom: 1rem;
      text-align: left;
    }
    .form-panel label {
      display: block;
      font-size: 0.85rem;
      margin-bottom: 0.3rem;
      color: var(--wine-200);
    }
    .form-panel input,
    .form-panel select,
    .form-panel textarea {
      width: 100%;
      padding: 0.7rem;
      border-radius: 0.6rem;
      border: none;
      background: #150910;
      color: var(--wine-100);
      box-shadow: inset 0 0 0 1px #4a0915;
      font-size: 0.95rem;
    }
    .form-panel input::placeholder,
    .form-panel textarea::placeholder {
      color: #987;
    }
    /* Chips for smell/taste */
    .chip-container {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    .chip {
      padding: 0.4rem 0.8rem;
      border-radius: 999px;
      background: rgba(255,255,255,0.1);
      font-size: 0.8rem;
      cursor: pointer;
      transition: background 0.15s ease;
    }
    .chip.selected {
      background: var(--wine-500);
    }
    /* Form buttons */
    .form-buttons {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-top: 1.5rem;
    }
    .btn {
      width: 100%;
      padding: 0.9rem;
      border-radius: 999px;
      border: none;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }
    .btn-primary {
      background: var(--wine-500);
      color: white;
    }
    .btn-secondary {
      background: rgba(255,255,255,0.1);
      color: var(--wine-200);
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.5);
    }
    .btn:active {
      transform: translateY(0);
      box-shadow: 0 4px 8px rgba(0,0,0,0.4);
    }
    /* Toast message */
    .toast {
      position: fixed;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      background: var(--wine-500);
      color: white;
      padding: 0.8rem 1.2rem;
      border-radius: 0.75rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.4);
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s ease;
      z-index: 100;
    }
  </style>
</head>
<body>
  <!-- Top bar / Header -->
  <header>
    <div class="header-left">
      <img src="logo.png" alt="Wine Buddy logo">
      <span class="app-name">Wine Buddy</span>
    </div>
    <div class="header-right">
      <!-- Placeholder for future profile/settings -->
      <span class="header-icon">‚ò∞</span>
    </div>
  </header>

  <main class="container" id="main">
    <!-- Hero Section -->
    <section class="hero">
      <img src="logo.png" alt="Wine Buddy logo" class="hero-logo">
      <h2 class="hero-headline">Discover your wine palate.</h2>
      <p class="hero-subheadline">Record tastings, track your favorite grapes, and explore your unique flavor patterns.</p>
    </section>

    <!-- Stats Cards -->
    <section class="stats-row">
      <div class="stat-card" id="stat-tastings">
        <div class="stat-icon">üç∑</div>
        <div class="stat-number" id="tastingCount">0</div>
        <div class="stat-label">Tastings</div>
      </div>
      <div class="stat-card" id="stat-grapes">
        <div class="stat-icon">üçá</div>
        <div class="stat-number" id="grapeCount">0</div>
        <div class="stat-label">Grapes</div>
      </div>
    </section>

    <!-- Action Cards -->
    <section class="action-list">
      <div class="action-card" id="newTastingBtn">
        <div class="action-icon">‚ûï</div>
        <div>
          <div class="action-title">New Tasting</div>
          <div class="action-desc">Start a new wine entry</div>
        </div>
      </div>
      <div class="action-card" id="libraryBtn">
        <div class="action-icon">üìö</div>
        <div>
          <div class="action-title">Tasting Library</div>
          <div class="action-desc">Browse all your tastings</div>
        </div>
      </div>
      <div class="action-card" id="statsBtn">
        <div class="action-icon">üìä</div>
        <div>
          <div class="action-title">Detailed Stats</div>
          <div class="action-desc">See your palate stats</div>
        </div>
      </div>
    </section>

    <!-- New Tasting Form (hidden by default) -->
    <section id="newTastingSection" style="display:none;">
      <div class="form-panel">
        <h3 style="margin-top:0; margin-bottom:1rem; font-size:1.2rem; font-weight:600;">New Tasting</h3>
        <!-- Basic Info -->
        <div class="section">
          <div class="section-title">Basic Info</div>
          <div class="field">
            <label for="vineyard">Vineyard / Winery</label>
            <input type="text" id="vineyard" placeholder="Enter winery name" />
          </div>
          <div class="field">
            <label for="wineName">Wine Name</label>
            <input type="text" id="wineName" placeholder="Enter wine name" />
          </div>
          <div class="field">
            <label for="vintage">Vintage Year</label>
            <input type="number" id="vintage" placeholder="e.g., 2021" />
          </div>
          <div class="field">
            <label for="grape">Grape Variety</label>
            <select id="grape">
              <!-- Grape options will be populated by script -->
            </select>
          </div>
        </div>
        <!-- Ratings -->
        <div class="section">
          <div class="section-title">Ratings</div>
          <div class="field">
            <label for="wineRating">Wine Rating (1‚Äì10)</label>
            <select id="wineRating">
              <option value="">-- Select --</option>
            </select>
          </div>
          <div class="field">
            <label for="wineryRating">Winery Rating (1‚Äì10)</label>
            <select id="wineryRating">
              <option value="">-- Select --</option>
            </select>
          </div>
          <div class="field">
            <label for="grapeRating">Grape Rating (1‚Äì10)</label>
            <select id="grapeRating">
              <option value="">-- Select --</option>
            </select>
          </div>
        </div>
        <!-- Profile -->
        <div class="section">
          <div class="section-title">Profile</div>
          <div class="field">
            <label for="sweetness">Sweetness</label>
            <select id="sweetness">
              <option value="">-- Select --</option>
              <option value="Dry">Dry</option>
              <option value="Off-Dry">Off-Dry</option>
              <option value="Medium-Dry">Medium-Dry</option>
              <option value="Medium-Sweet">Medium-Sweet</option>
              <option value="Sweet">Sweet</option>
              <option value="Luscious">Luscious</option>
            </select>
          </div>
          <div class="field">
            <label for="acidity">Acidity</label>
            <select id="acidity">
              <option value="">-- Select --</option>
              <option value="Low">Low</option>
              <option value="Medium(-)">Medium(-)</option>
              <option value="Medium">Medium</option>
              <option value="Medium(+)">Medium(+)</option>
              <option value="High">High</option>
            </select>
          </div>
        </div>
        <!-- Aromas & Flavors -->
        <div class="section">
          <div class="section-title">Smell (select up to 4)</div>
          <div class="chip-container" id="smellChips"></div>
        </div>
        <div class="section">
          <div class="section-title">Taste (select up to 4)</div>
          <div class="chip-container" id="tasteChips"></div>
        </div>
        <div class="section">
          <div class="section-title">Colour</div>
          <div class="field">
            <label for="colourType">Colour Type</label>
            <select id="colourType">
              <option value="">-- Select --</option>
              <option value="Ruby">Ruby</option>
              <option value="Garnet">Garnet</option>
              <option value="Purple">Purple</option>
              <option value="Tawny">Tawny</option>
              <option value="Lemon-Green">Lemon-Green</option>
              <option value="Lemon">Lemon</option>
              <option value="Gold">Gold</option>
              <option value="Amber">Amber</option>
              <option value="Pink">Pink</option>
              <option value="Salmon">Salmon</option>
              <option value="Copper">Copper</option>
              <option value="Mahogany">Mahogany</option>
            </select>
          </div>
          <div class="field">
            <label for="colourIntensity">Colour Intensity</label>
            <select id="colourIntensity">
              <option value="">-- Select --</option>
              <option value="Light">Light</option>
              <option value="Medium">Medium</option>
              <option value="Deep">Deep</option>
            </select>
          </div>
        </div>
        <!-- Additional notes -->
        <div class="section">
          <div class="section-title">Additional Notes</div>
          <div class="field">
            <label for="notes">Notes</label>
            <textarea id="notes" rows="3" placeholder="Write any tasting notes..."></textarea>
          </div>
        </div>
        <!-- Form Buttons -->
        <div class="form-buttons">
          <button class="btn btn-primary" id="saveBtn">Save Tasting</button>
          <button class="btn btn-secondary" id="cancelBtn">Cancel</button>
        </div>
      </div>
    </section>
  </main>

  <div class="toast" id="toast">Tasting saved!</div>

  <script>
    // Data arrays for grapes, smell, and taste notes (alphabetical)
    const grapes = [
      'Aglianico','Albari√±o','Barbera','Blaufr√§nkisch','Cabernet Franc','Cabernet Sauvignon','Carmen√®re','Chardonnay','Chenin Blanc','Dolcetto','Fiano','Gamay','Gew√ºrztraminer','Gr√ºner Veltliner','Malbec','Marsanne','Merlot','Mourv√®dre','Nebbiolo','Nero d\'Avola','Palomino','Petit Verdot','Pinot Blanc','Pinot Grigio','Pinot Meunier','Pinot Noir','Riesling','Sangiovese','Sauvignon Blanc','S√©millon','Syrah/Shiraz','Tempranillo','Touriga Nacional','Viognier','Zinfandel'];
    const smellOptions = [
      'Rose','Violet','Acacia','Elderflower','Citrus: Lemon','Citrus: Lime','Citrus: Grapefruit','Orange','Stone Fruit: Peach','Stone Fruit: Apricot','Stone Fruit: Nectarine','Tropical: Pineapple','Tropical: Mango','Tropical: Banana','Tropical: Passion Fruit','Red Fruit: Strawberry','Red Fruit: Raspberry','Red Fruit: Red Cherry','Red Fruit: Cranberry','Black Fruit: Blackberry','Black Fruit: Blackcurrant','Black Fruit: Black Cherry','Black Fruit: Plum','Herbal: Grass','Herbal: Mint','Spice: Black Pepper','Spice: Clove','Dried Fruit','Leather','Mushroom','Honey','Nutty'];
    const tasteOptions = [...smellOptions];
    // Populate grape and rating selects
    const grapeSelect = document.getElementById('grape');
    grapes.sort().forEach(g => {
      const opt = document.createElement('option');
      opt.value = g;
      opt.textContent = g;
      grapeSelect.appendChild(opt);
    });
    function populateRatingSelect(id) {
      const sel = document.getElementById(id);
      for (let i=1; i<=10; i++) {
        const opt = document.createElement('option');
        opt.value = i;
        opt.textContent = i;
        sel.appendChild(opt);
      }
    }
    populateRatingSelect('wineRating');
    populateRatingSelect('wineryRating');
    populateRatingSelect('grapeRating');
    // Populate smell and taste chips
    function createChips(containerId, options) {
      const container = document.getElementById(containerId);
      options.sort().forEach(item => {
        const chip = document.createElement('span');
        chip.className = 'chip';
        chip.textContent = item;
        chip.addEventListener('click', () => {
          // Toggle selection; limit to 4 chips
          const selected = [...container.querySelectorAll('.chip.selected')];
          if (chip.classList.contains('selected')) {
            chip.classList.remove('selected');
          } else if (selected.length < 4) {
            chip.classList.add('selected');
          }
        });
        container.appendChild(chip);
      });
    }
    createChips('smellChips', smellOptions);
    createChips('tasteChips', tasteOptions);

    // Example counters; replace these with actual data if storing tastings
    let tastings = [];
    function updateStats() {
      const tastingCount = tastings.length;
      const grapeCount = new Set(tastings.map(t => t.grape)).size;
      animateNumber('tastingCount', tastingCount);
      animateNumber('grapeCount', grapeCount);
    }
    function animateNumber(id, target) {
      const el = document.getElementById(id);
      const duration = 800;
      const startTime = performance.now();
      function step(currentTime) {
        const progress = Math.min((currentTime - startTime) / duration, 1);
        const value = Math.floor(progress * target);
        el.textContent = value;
        if (progress < 1) requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
    }
    // Show/hide New Tasting section
    const newTastingBtn = document.getElementById('newTastingBtn');
    const newTastingSection = document.getElementById('newTastingSection');
    const cancelBtn = document.getElementById('cancelBtn');
    newTastingBtn.addEventListener('click', () => {
      newTastingSection.style.display = 'block';
      window.scrollTo({ top: newTastingSection.offsetTop - 80, behavior: 'smooth' });
    });
    cancelBtn.addEventListener('click', () => {
      newTastingSection.style.display = 'none';
      document.getElementById('vineyard').value = '';
      document.getElementById('wineName').value = '';
      document.getElementById('vintage').value = '';
      document.getElementById('grape').selectedIndex = 0;
      document.getElementById('wineRating').selectedIndex = 0;
      document.getElementById('wineryRating').selectedIndex = 0;
      document.getElementById('grapeRating').selectedIndex = 0;
      document.getElementById('sweetness').selectedIndex = 0;
      document.getElementById('acidity').selectedIndex = 0;
      document.getElementById('colourType').selectedIndex = 0;
      document.getElementById('colourIntensity').selectedIndex = 0;
      document.getElementById('notes').value = '';
      // Reset chips
      document.querySelectorAll('.chip.selected').forEach(chip => chip.classList.remove('selected'));
    });
    // Save tasting
    document.getElementById('saveBtn').addEventListener('click', () => {
      const t = {
        vineyard: document.getElementById('vineyard').value.trim(),
        wineName: document.getElementById('wineName').value.trim(),
        vintage: document.getElementById('vintage').value.trim(),
        grape: document.getElementById('grape').value,
        wineRating: document.getElementById('wineRating').value,
        wineryRating: document.getElementById('wineryRating').value,
        grapeRating: document.getElementById('grapeRating').value,
        sweetness: document.getElementById('sweetness').value,
        acidity: document.getElementById('acidity').value,
        smell: [...document.querySelectorAll('#smellChips .chip.selected')].map(ch => ch.textContent),
        taste: [...document.querySelectorAll('#tasteChips .chip.selected')].map(ch => ch.textContent),
        colour: document.getElementById('colourType').value,
        intensity: document.getElementById('colourIntensity').value,
        notes: document.getElementById('notes').value.trim(),
        createdAt: new Date().toISOString()
      };
      tastings.push(t);
      // Reset form and hide
      cancelBtn.click();
      // Update stats
      updateStats();
      // Show toast
      const toast = document.getElementById('toast');
      toast.textContent = 'Tasting saved!';
      toast.style.opacity = 1;
      setTimeout(() => toast.style.opacity = 0, 2000);
    });
    // Initialize counters
    updateStats();
  </script>
</body>
</html>
